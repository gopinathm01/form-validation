<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form validation</title> 
    <link rel="stylesheet" href="css\style.css"> 
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" >
</head>
<body>
    <div class="container"> 

        <div class="header">
            <h2>CREATE ACCOUNT</h2>
        </div>  
        <form class="form" id="form">   
            <div class="form-control"> 
            <label>Username</label>  
            <input type="text" placeholder="eg:john" id="username">
                <i class="fa fa-check-circle" aria-hidden="true"></i>
                <i class="fa fa-exclamation-circle"  aria-hidden="true"></i>
            </div>  
            <br>

            <div class="form-control"> 
                <label>Email</label> 
                <input type="email" placeholder="eg:john@gmail.com" id="email"> 
                <i class="fa fa-check-circle"  aria-hidden="true"></i>
                <i class="fa fa-exclamation-circle"  aria-hidden="true"></i>
        
            </div>  
            <br>

            <div class="form-control"> 
                <label>Password</label>  
                <input type="password" placeholder="12345" id="password">
                <i class="fa fa-check-circle"  aria-hidden="true"></i>
                <i class="fa fa-exclamation-circle"  aria-hidden="true"></i> 
            </div>
            <br>

            <div class="form-control"> 
                <label>Confirm password</label>  
                <input type="password" placeholder="12345" id="password2">
                <i class="fa fa-check-circle"  aria-hidden="true"></i>
                <i class="fa fa-exclamation-circle"  aria-hidden="true"></i> 
                
                </div>
            <button type="submit">SUBMIT</button>
        </form>
    </div>
    <script>
        const form = document.getElementById("form");
        const username = document.getElementById("username");
        const email = document.getElementById("email");
        const password = document.getElementById("password");
        const password2 = document.getElementById("password2"); 

        form.addEventListener('submit',e =>
        { 
            e.preventDefault();
            checkInput();
        }); 

        function checkInput()
        {
            const usernameValue = username.value.trim(); 
            const emailValue = email.value.trim();
            const passwordValue = password.value.trim();
            const password2Value = password2.value.trim(); 
       
            if(usernameValue === '')
            {
                setError(username);
            } 
            else 
            {
                setSuccess(username);
            } 


            if(emailValue === '')
            {
                setError(email);
            } 
            else if(!isEmail(emailValue) === '')
            {
                setError(email);
            } 
            else
            {
                setSuccess(email);
            } 


            if(passwordValue === '')
            {
                setError(password);
            } 
            else 
            {
                setSuccess(password);
            }  

            if(password2Value === '')
            {
                setError(password2);
            } 
            else if(passwordValue !== password2Value)
            {
                setError(password2);
            } 
            else 
            {
                setSuccess(password2);
            }   
        } 


        function isEmail(email){
            return /^(([^g>()\[\]\\.,;:\s@"]+(\. [^<>()\[\]\\. , ; : \s@"]+)*) | ("+")) @((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])| (( [a-zA-Z\-0-9]+\.) + [a-zA-Z]{2,})) $/.test (email);
            }
           

            function setError(input)
            {
                const formControl = input.parentElement;   
                formControl.className = 'form-control error';
            } 

            function setSuccess(input)
            {
                const formControl = input.parentElement;  
                formControl.className = 'form-control success';
            } 




      
    </script> 
</body>
</html>